<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Jouyouyun&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Linuxsir, C/C++/GoLang Programmer">
<meta property="og:type" content="website">
<meta property="og:title" content="Jouyouyun's Blog">
<meta property="og:url" content="https://jouyouyun.github.io/index.html">
<meta property="og:site_name" content="Jouyouyun's Blog">
<meta property="og:description" content="Linuxsir, C/C++/GoLang Programmer">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jouyouyun's Blog">
<meta name="twitter:description" content="Linuxsir, C/C++/GoLang Programmer">
  
  
    <link rel="icon" href="/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/">jouyouyun</a></h1>
        </hgroup>

        
        <p class="header-subtitle">一些喜欢的东西</p>
        
                


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:jouyouwen717@gmail.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/jouyouyun" title="GitHub"></a></li>
                            
                                <li id="Twitter"><a class="Twitter" target="_blank" href="https://twitter.com/jouyouyun" title="Twitter"></a></li>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/go/" style="font-size: 20px;">go</a> <a href="/tags/gob/" style="font-size: 15px;">gob</a> <a href="/tags/md5/" style="font-size: 10px;">md5</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/tcp/" style="font-size: 10px;">tcp</a> <a href="/tags/uri/" style="font-size: 10px;">uri</a> <a href="/tags/vpn/" style="font-size: 10px;">vpn</a> <a href="/tags/vps/" style="font-size: 10px;">vps</a> <a href="/tags/xsetwacom-wacom/" style="font-size: 10px;">xsetwacom,wacom</a>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://hexo.io">Hexo</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="https://pages.github.com/">GitHub</a>
                    
                      <a target="_blank" class="main-nav-link switch-friends-link" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">Linuxsir &amp;&amp; C/C++/GoLang Programmer</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">jouyouyun</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">jouyouyun</a></h1>
            </hgroup>
            
            <p class="header-subtitle">一些喜欢的东西</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <li id="Email"><a class="Email" target="_blank" href="mailto:jouyouwen717@gmail.com" title="Email"></a></li>
                            
                                <li id="GitHub"><a class="GitHub" target="_blank" href="https://github.com/jouyouyun" title="GitHub"></a></li>
                            
                                <li id="Twitter"><a class="Twitter" target="_blank" href="https://twitter.com/jouyouyun" title="Twitter"></a></li>
                            
                        </ul>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-xsetwacom-options" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/xsetwacom-options/" class="article-date">
      <time datetime="2016-02-03T06:58:29.000Z" itemprop="datePublished">2016-02-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xsetwacom-options/">xsetwacom 选项说明</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><code>xsetwacom</code> 是一个设置数位板的命令行工具, 在 <code>Debian/Ubuntu/deepin</code> 上可以通过安装 <code>xserver-xorg-input-wacom</code> 来获取它.</p>
<p>可以通过 <code>man xsetwacom</code> 看到它的帮助文档, 下面就简单说明下它的部份选项:</p>
<hr>
<h2 id="Options"><a href="#Options" class="headerlink" title="Options"></a>Options</h2><h3 id="Area"><a href="#Area" class="headerlink" title="Area"></a>Area</h3><ul>
<li><p>args: x1 y1 x2 y2</p>
</li>
<li><p>default: 0 0 x2 y2,</p>
</li>
<li><p>description: 设置数位板可使用的区域</p>
</li>
</ul>
<h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><ul>
<li><p>args: button-number [mapping]</p>
</li>
<li><p>description: 设置数位笔按钮的功能，可自定义为组合键，详细使用方法见文档</p>
</li>
</ul>
<h3 id="MapToOutput"><a href="#MapToOutput" class="headerlink" title="MapToOutput"></a>MapToOutput</h3><ul>
<li><p>args: output</p>
</li>
<li><p>description: 设置数位板与显示屏的映射，可以使用 <code>output</code>, <code>Head Number</code>, <code>X11 geometry</code> 三种方式设置</p>
<ul>
<li><p>output: 如 <code>VGA1</code></p>
</li>
<li><p>Head Number: 通过 <code>XRandR extension</code> 得到的</p>
</li>
<li><p>X11 geometry: 格式如 <code>WIDTHxHEIGHT+X+Y</code></p>
</li>
</ul>
</li>
</ul>
<h3 id="Mode"><a href="#Mode" class="headerlink" title="Mode"></a>Mode</h3><ul>
<li><p>args: Absolute|Relative</p>
</li>
<li><p>default: Absolute</p>
</li>
<li><p>description: 设置笔模式。</p>
<ul>
<li><p>Absolute: 模式时数位笔对应的是数位板或屏幕的真实位置</p>
</li>
<li><p>Relative: 模式时数位笔就像是一个鼠标</p>
</li>
</ul>
</li>
</ul>
<h3 id="PressureCurve"><a href="#PressureCurve" class="headerlink" title="PressureCurve"></a>PressureCurve</h3><ul>
<li><p>args: x1 y1 x2 y2</p>
</li>
<li><p>default: 0 0 100 100</p>
</li>
<li><p>description: 压力曲线，(x1<y1 x2<y2)="" to="" "soften"，(x1="">y1 x2&gt;y2) to “firmer”</y1></p>
</li>
</ul>
<h3 id="RawSample"><a href="#RawSample" class="headerlink" title="RawSample"></a>RawSample</h3><ul>
<li><p>args: level(0 ~ 20)</p>
</li>
<li><p>default: 4</p>
</li>
<li><p>description: 设置数位笔原始采样率对应的窗口大小，不太清楚有什么用</p>
</li>
</ul>
<h3 id="Rotate"><a href="#Rotate" class="headerlink" title="Rotate"></a>Rotate</h3><ul>
<li><p>args: none|half|cw|ccw</p>
</li>
<li><p>default: none</p>
</li>
<li><p>description: 设置旋转度</p>
<ul>
<li><p>none: 不旋转</p>
</li>
<li><p>half: 上下翻转</p>
</li>
<li><p>cw: 顺时针旋转 90 度</p>
</li>
<li><p>ccw: 逆时针旋转 90 度</p>
</li>
</ul>
</li>
</ul>
<h3 id="Suppress"><a href="#Suppress" class="headerlink" title="Suppress"></a>Suppress</h3><ul>
<li><p>args: level(0 ~ 100)</p>
</li>
<li><p>default: 2</p>
</li>
<li><p>description: 设置移动灵敏度，值越大灵敏度越低</p>
</li>
</ul>
<h3 id="Touch"><a href="#Touch" class="headerlink" title="Touch"></a>Touch</h3><ul>
<li><p>args: on|off</p>
</li>
<li><p>default: on</p>
</li>
<li><p>description: 是否允许触摸</p>
</li>
</ul>
<h3 id="HWTouchSwitchState"><a href="#HWTouchSwitchState" class="headerlink" title="HWTouchSwitchState"></a>HWTouchSwitchState</h3><ul>
<li><p>args: on|off</p>
</li>
<li><p>default: on</p>
</li>
<li><p>description: 是否允许调节 <code>Touch</code> 选项</p>
</li>
</ul>
<h3 id="Threshold"><a href="#Threshold" class="headerlink" title="Threshold"></a>Threshold</h3><ul>
<li><p>args: level(0 ~ 2047)</p>
</li>
<li><p>default: 27</p>
</li>
<li><p>description: 设置产生按键事件的最小力度</p>
</li>
</ul>
<hr>
<h2 id="u5176_u4ED6"><a href="#u5176_u4ED6" class="headerlink" title="其他"></a>其他</h2><p>对于压力曲线，这里给出了一些测试值，从 <code>soften</code> 到 <code>firmer</code> :</p>
<ul>
<li>0 100 0 100</li>
<li>20 80 20 80</li>
<li>30 70 30 70</li>
<li>0 0 100 100</li>
<li>60 40 60 40</li>
<li>70 30 70 30</li>
<li>75 25 75 25</li>
<li>80 20 80 20</li>
<li>90 10 90 10</li>
<li>100 0 100 0</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xsetwacom-wacom/">xsetwacom,wacom</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-go-tcp-socket-example" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/go-tcp-socket-example/" class="article-date">
      <time datetime="2014-07-19T16:54:43.000Z" itemprop="datePublished">2014-07-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-tcp-socket-example/">Go 笔记: 简单的 TCP Socket 示例</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>一个简单的 <code>TCP Socket</code> 的示例，使用 <code>gob</code> 处理传输的数据。</p>
<p><code>server.go</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"bytes"</span></span><br><span class="line">	<span class="string">"encoding/gob"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io"</span></span><br><span class="line">	<span class="string">"net"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> personInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name  <span class="typename">string</span></span><br><span class="line">	Age   <span class="typename">int32</span></span><br><span class="line">	Phone <span class="typename">string</span></span><br><span class="line">	Addr  <span class="typename">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	BUF_SIZE = <span class="number">1024</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> handleConnection(conn *net.TCPConn) &#123;</span><br><span class="line">	<span class="keyword">if</span> conn == <span class="constant">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">defer</span> conn.Close()</span><br><span class="line"></span><br><span class="line">	data := <span class="built_in">make</span>([]<span class="typename">byte</span>, BUF_SIZE)</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		n, err := conn.Read(data)</span><br><span class="line">		<span class="keyword">if</span> err == io.EOF &#123;</span><br><span class="line">			fmt.Println(<span class="string">"Read connection data failed:"</span>, err)</span><br><span class="line">			<span class="keyword">break</span></span><br><span class="line">		&#125;</span><br><span class="line">		fmt.Printf(<span class="string">"Read %v byte data\n"</span>, n)</span><br><span class="line"></span><br><span class="line">		b := bytes.NewBuffer(data)</span><br><span class="line">		dec := gob.NewDecoder(b)</span><br><span class="line"></span><br><span class="line">		info := personInfo&#123;&#125;</span><br><span class="line">		dec.Decode(&amp;info)</span><br><span class="line">		fmt.Printf(<span class="string">"Server receive data: %v\n"</span>, info)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">	tcpAddr, err := net.ResolveTCPAddr(<span class="string">"tcp"</span>, <span class="string">"127.0.0.1:8087"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"ResolveTCPAddr failed:"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	l, err := net.ListenTCP(<span class="string">"tcp"</span>, tcpAddr)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Listen port error:"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		conn, err := l.AcceptTCP()</span><br><span class="line">		fmt.Printf(<span class="string">"The client: %s connected\n"</span>, conn.RemoteAddr().String())</span><br><span class="line">		<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">			fmt.Println(<span class="string">"Accept error:"</span>, err)</span><br><span class="line">			<span class="keyword">continue</span></span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">go</span> handleConnection(conn)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>client.go</code></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"bytes"</span></span><br><span class="line">	<span class="string">"encoding/gob"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"net"</span></span><br><span class="line">	<span class="string">"time"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> personInfo <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name  <span class="typename">string</span></span><br><span class="line">	Age   <span class="typename">int32</span></span><br><span class="line">	Phone <span class="typename">string</span></span><br><span class="line">	Addr  <span class="typename">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">	tcpAddr, err := net.ResolveTCPAddr(<span class="string">"tcp"</span>, <span class="string">"127.0.0.1:8087"</span>)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"ResolveTCPAddr failed:"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	conn, err := net.DialTCP(<span class="string">"tcp"</span>, <span class="constant">nil</span>, tcpAddr)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"Create connection failed:"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	info := personInfo&#123;<span class="string">"Maya"</span>, <span class="number">18</span>, <span class="string">"13277085678"</span>, <span class="string">"Hubei China"</span>&#125;</span><br><span class="line">	<span class="keyword">var</span> b bytes.Buffer</span><br><span class="line">	enc := gob.NewEncoder(&amp;b)</span><br><span class="line">	enc.Encode(&amp;info)</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		conn.Write(b.Bytes())</span><br><span class="line">		fmt.Println(b.Bytes())</span><br><span class="line">		&lt;-time.After(time.Second * <span class="number">3</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	conn.Close()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gob/">gob</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tcp/">tcp</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-go-gob-writeread-file" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/go-gob-writeread-file/" class="article-date">
      <time datetime="2014-07-07T05:06:28.000Z" itemprop="datePublished">2014-07-07</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-gob-writeread-file/">Go 笔记：Gob Write/Read File</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><code>Gob</code> 使用实例，将结构体写入文件里，在需要的时候再从文件中读取出来。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"bytes"</span></span><br><span class="line">	<span class="string">"encoding/gob"</span></span><br><span class="line">	<span class="string">"fmt"</span></span><br><span class="line">	<span class="string">"io/ioutil"</span></span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Writer <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id    <span class="typename">int</span></span><br><span class="line">	Name  <span class="typename">string</span></span><br><span class="line">	Value <span class="typename">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Reader <span class="keyword">struct</span> &#123;</span><br><span class="line">	Name  <span class="typename">string</span></span><br><span class="line">	Value <span class="typename">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> writeToFile(filename <span class="typename">string</span>, data <span class="keyword">interface</span>&#123;&#125;) <span class="typename">bool</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(filename) &lt; <span class="number">1</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"writeToFile filename invalid"</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">var</span> w bytes.Buffer</span><br><span class="line"></span><br><span class="line">	enc := gob.NewEncoder(&amp;w)</span><br><span class="line">	<span class="keyword">if</span> err := enc.Encode(data); err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"Encode data error: %v\n"</span>, err)</span><br><span class="line">		<span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> fp, err := os.Create(filename); err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"Open '%s' error: %v\n"</span>, filename, err)</span><br><span class="line">		<span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">defer</span> fp.Close()</span><br><span class="line">		fp.WriteString(w.String())</span><br><span class="line">		fp.Sync()</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="constant">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> readFromFile(filename <span class="typename">string</span>, data <span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(filename) &lt; <span class="number">1</span> || data == <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Println(<span class="string">"readFromFile args invalid"</span>)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	contents, err := ioutil.ReadFile(filename)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"ReadFile '%s' error: %v\n"</span>, filename, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	r := bytes.NewBuffer(contents)</span><br><span class="line">	dec := gob.NewDecoder(r)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> err := dec.Decode(data); err != <span class="constant">nil</span> &#123;</span><br><span class="line">		fmt.Printf(<span class="string">"Decode error: %v\n"</span>, err)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> main() &#123;</span><br><span class="line">	wData := Writer&#123;<span class="number">0</span>, <span class="string">"firefox"</span>, <span class="string">"Web Broswer"</span>&#125;</span><br><span class="line"></span><br><span class="line">	writeToFile(<span class="string">"/tmp/w"</span>, &amp;wData)</span><br><span class="line"></span><br><span class="line">	rData := Reader&#123;&#125;</span><br><span class="line">	readFromFile(<span class="string">"/tmp/w"</span>, &amp;rData)</span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, rData)</span><br><span class="line"></span><br><span class="line">	<span class="comment">// test map</span></span><br><span class="line">	w := <span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>&#123;</span><br><span class="line">		<span class="string">"sublime-text"</span>: <span class="string">"Sublime Text"</span>,</span><br><span class="line">		<span class="string">"firefox"</span>:      <span class="string">"Web Broswer"</span>,</span><br><span class="line">		<span class="string">"terminator"</span>:   <span class="string">"Terminator"</span>,</span><br><span class="line">	&#125;</span><br><span class="line">	writeToFile(<span class="string">"/tmp/map"</span>, &amp;w)</span><br><span class="line">	r := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="typename">string</span>]<span class="typename">string</span>)</span><br><span class="line">	readFromFile(<span class="string">"/tmp/map"</span>, &amp;r)</span><br><span class="line">	fmt.Printf(<span class="string">"%v\n"</span>, r)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gob/">gob</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-chroot-shell" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/chroot-shell/" class="article-date">
      <time datetime="2014-07-04T16:13:22.000Z" itemprop="datePublished">2014-07-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/chroot-shell/">chroot 脚本</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近测试了以下 <code>chroot</code>，然后把步骤写成了下面两个脚本，方便以后使用。</p>
<p><code>Arch</code> 分区结构</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/dev/sda5&#9;/&#10;/dev/sda1&#9;/boot&#10;/dev/sda6&#9;/home&#10;/dev/sda8&#9;Swap</span><br></pre></td></tr></table></figure>
<h1 id="chroot__u6302_u8F7D_u811A_u672C"><a href="#chroot__u6302_u8F7D_u811A_u672C" class="headerlink" title="chroot 挂载脚本"></a><code>chroot</code> 挂载脚本</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash&#10;&#10;_ROOT=/dev/sda5&#10;_BOOT=/dev/sda1&#10;#_HOME=/dev/sda6&#10;&#10;#&#21019;&#24314;&#30446;&#24405;&#32467;&#26500;&#10;sudo mkdir -p /mnt/arch&#10;sudo mkdir -p /mnt/arch/boot&#10;#sudo mkdir -p /mnt/arch/home&#10;&#10;#&#25346;&#36733;&#20998;&#21306;&#10;sudo mount $_ROOT /mnt/arch&#10;sudo mount $_BOOT /mnt/arch/boot&#10;#sudo mount $_HOME /mnt/arch/home&#10;&#10;#&#25346;&#36733;&#20020;&#26102;&#25991;&#20214;&#31995;&#32479;&#10;cd /mnt/arch&#10;sudo mount -t proc proc proc/&#10;sudo mount -t sysfs sys sys/&#10;sudo mount -o bind /dev dev/&#10;sudo mount -t devpts pts dev/pts&#10;&#10;#&#22914;&#26524;&#20320;&#24050;&#32463;&#24314;&#31435;&#20102;&#19968;&#20010;&#32593;&#32476;&#36830;&#25509;&#24182;&#19988;&#24819;&#35201;&#22312;chroot&#29615;&#22659;&#20013;&#20351;&#29992;&#23427;&#65292;&#10;#&#20320;&#21487;&#33021;&#19981;&#24471;&#19981;&#25335;&#36125;&#20320;&#30340;DNS&#26381;&#21153;&#22120;&#37197;&#32622;&#35753;&#20320;&#33021;&#22815;&#35299;&#26512;&#20027;&#26426;&#21517;&#10;sudo  cp -L /etc/resolv.conf etc/resolv.conf&#10;&#10;# chroot &#24182;&#25351;&#23450; shell&#10;sudo chroot /mnt/arch /usr/bin/bash</span><br></pre></td></tr></table></figure>
<h1 id="chroot__u5378_u8F7D_u811A_u672C"><a href="#chroot__u5378_u8F7D_u811A_u672C" class="headerlink" title="chroot  卸载脚本"></a><code>chroot</code>  卸载脚本</h1><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash&#10;&#10;#&#22312;&#36864;&#20986; chroot &#21518;&#25191;&#34892;&#27492;&#33050;&#26412;&#10;&#10;#&#21368;&#36733;&#20020;&#26102;&#25991;&#20214;&#31995;&#32479;&#21644;&#24050;&#25346;&#36733;&#30340;&#35774;&#22791;&#10;#sudo umount &#123;proc,sys,dev/pts,dev,boot,home&#125;&#10;sudo umount &#123;proc,sys,dev/pts,dev,boot&#125;&#10;&#10;#&#23581;&#35797;&#21368;&#36733;&#26681;&#20998;&#21306;&#10;cd /&#10;sudo umount /mnt/arch</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-build-vpn" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/build-vpn/" class="article-date">
      <time datetime="2014-07-04T14:39:27.000Z" itemprop="datePublished">2014-07-04</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/build-vpn/">在 VPS 中搭建 VPN 服务器</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>最近 <code>Google</code> 被封，而用 <code>Goagent</code> 做代理进行访问的效果而不是很理想，所以就想去买 <code>VPN/VPS</code>。几经考虑后，就去买了个便宜 <code>VPS</code>，这样也就可以分享给家人用了。</p>
<p><code>VPS</code> 中安装的是 <code>Ubuntu</code>，所以搭建 <code>VPN</code> 服务器也就是在 <code>Ubuntu</code> 上面搭建，具体方法如下。</p>
<p>注意：下面所有的操作都是以 <code>root</code> 用户进行的，非 <code>root</code> 用户请在命令前加上 <code>sudo</code><br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/">ssh</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vpn/">vpn</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/vps/">vps</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/build-vpn/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-go-md5-sum" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/go-md5-sum/" class="article-date">
      <time datetime="2014-06-22T14:54:38.000Z" itemprop="datePublished">2014-06-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-md5-sum/">Go 笔记: md5 sum</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>使用 Go 语言实现字符串与文件的 MD5 值计算，但是大文件不要使用此方法。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> utils</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"crypto/md5"</span></span><br><span class="line">	<span class="string">"io/ioutil"</span></span><br><span class="line">	<span class="string">"strconv"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">	MD5_STR_LEN = <span class="number">32</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> md5ByteToStr(bytes [<span class="number">16</span>]<span class="typename">byte</span>) <span class="typename">string</span> &#123;</span><br><span class="line">	str := <span class="string">""</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> _, b := <span class="keyword">range</span> bytes &#123;</span><br><span class="line">		s := strconv.FormatInt(<span class="typename">int64</span>(b), <span class="number">16</span>)</span><br><span class="line">		<span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">1</span> &#123;</span><br><span class="line">			str += <span class="string">"0"</span> + s</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			str += s</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> str</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> SumStrMd5(str <span class="typename">string</span>) (<span class="typename">string</span>, <span class="typename">bool</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(str) &lt; <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">""</span>, <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	md5Byte := md5.Sum([]<span class="typename">byte</span>(str))</span><br><span class="line">	md5Str := md5ByteToStr(md5Byte)</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(md5Str) &lt; MD5_STR_LEN &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">""</span>, <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> md5Str, <span class="constant">true</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> SumFileMd5(filename <span class="typename">string</span>) (<span class="typename">string</span>, <span class="typename">bool</span>) &#123;</span><br><span class="line">	<span class="keyword">if</span> !IsFileExist(filename) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">""</span>, <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	contents, err := ioutil.ReadFile(filename)</span><br><span class="line">	<span class="keyword">if</span> err != <span class="constant">nil</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">""</span>, <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	md5Byte := md5.Sum(contents)</span><br><span class="line">	md5Str := md5ByteToStr(md5Byte)</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(md5Str) &lt; MD5_STR_LEN &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">""</span>, <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> md5Str, <span class="constant">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/md5/">md5</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-go-file-exists" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/go-file-exists/" class="article-date">
      <time datetime="2014-06-20T13:38:13.000Z" itemprop="datePublished">2014-06-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-file-exists/">Go 笔记: 判断文件是否存在</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>使用 GoLang 判断文件是否存在。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> utils</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">"os"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> isFileExist(filename <span class="typename">string</span>) <span class="typename">bool</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(filename) &lt; <span class="number">1</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="constant">false</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	_, err := os.Stat(filename)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> err == <span class="constant">nil</span> || os.IsExist(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-go-uri-encode" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/go-uri-encode/" class="article-date">
      <time datetime="2014-06-20T13:20:12.000Z" itemprop="datePublished">2014-06-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/go-uri-encode/">Go 笔记: URI Encode/Decode</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>最近在处理路径时，要求统一用 URI(通用资源标识符) 的格式来表示。偶尔会遇到 URI 被编码的情况，这就需要解码了，故在此把 Encode/Decode URI 的方法记录在此，以备后用。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/go/">go</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/uri/">uri</a></li></ul>
    </div>

      
        <p class="article-more-link">
          <a  href="/go-uri-encode/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-xrecord-example" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/xrecord-example/" class="article-date">
      <time datetime="2014-04-18T09:42:15.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/xrecord-example/">XRecord 示例</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
              <p>最近在做快捷键绑定的项目，但在绑定单按键时发现 <code>XGrabKey</code> 无法处理。遂请教组长，得知 <code>XRecord</code> 可以处理，于是就去查找 <code>XRecord</code> 的相关资料，但却很少。<br>所以在此记录一下整理的示例代码，以便日后查看，其功能在代码注释中写出。<br>
          
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
        <p class="article-more-link">
          <a  href="/xrecord-example/#more">more >></a>
        </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/hello-world/" class="article-date">
      <time datetime="2014-04-18T02:51:19.000Z" itemprop="datePublished">2014-04-18</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>Welcome to <a href="http://hexo.io" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="http://hexo.io/docs" target="_blank" rel="external">documentation</a> to learn how to use.</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>








  
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2016 jouyouyun
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的静态博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减双栏 Hexo 博客主题">Yelee</a> by MOxFIVE
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >本站到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    <script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>

<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>